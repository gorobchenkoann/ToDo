{"version":3,"sources":["script.js"],"names":["Todo","title","comment","id","Math","random","toString","substr","UI","Store","getItems","forEach","todo","AddTodo","list","document","querySelector","card","createElement","className","dataset","undefined","innerHTML","appendChild","value","item","classList","contains","parentElement","parent","findClosest","remove","ShowAlert","removeItem","cardBody","add","message","cls","action","div","form","formParent","append","createTextNode","insertBefore","disabled","setTimeout","storedItems","localStorage","getItem","JSON","parse","items","push","setItem","stringify","el","index","splice","addEventListener","DisplayTodos","e","preventDefault","addItem","ClearInputs","HandleTodoClick","target"],"mappings":"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","file":"script.0720ca6f.js","sourceRoot":"../src","sourcesContent":["// ToDo Class\nclass Todo {\n  constructor(title, comment) {\n    this.title = title;\n    this.comment = comment;\n    this.id = Math.random().toString(36).substr(2, 9);\n  }\n}\n\n// UI Class\nclass UI {\n  static DisplayTodos() {   \n    const todos = Store.getItems();\n    todos.forEach(todo => UI.AddTodo(todo));    \n  }\n  \n  static AddTodo(todo) {\n    let list = document.querySelector('.todos'); \n    let card = document.createElement('div');\n    \n    card.className = 'card mb-3';\n    card.dataset.id = todo.id;\n    \n    if (todo.comment !== undefined && todo.comment !== '') {\n      card.innerHTML = `\n        <div class=\"card-header full d-flex justify-content-between align-items-center\">\n          <span>\n            ${todo.title}            \n          </span>\n          <i class=\"fas fa-caret-down\"></i>\n        </div>\n        <div class=\"card-body d-none\">${todo.comment}</div>\n\n        <button class=\"btn-danger remove \">\n          <i class=\"fas fa-times\"></i>\n        </button>\n      `;\n    } else {\n      card.innerHTML = `\n        <div class=\"card-header d-flex justify-content-between\">\n          <span>${todo.title}</span>          \n        </div>\n        <button class=\"btn-danger remove\">\n          <i class=\"fas fa-times\"></i>\n        </button>\n      `;\n    } \n    \n    list.appendChild(card);  \n  }\n  \n  static ClearInputs() {\n    const title = document.querySelector('#title').value = '';\n    const comment = document.querySelector('#comment').value = '';\n  }\n  \n  static HandleTodoClick(item) {\n    if (item.classList.contains('remove') || item.parentElement.classList.contains('remove')) {\n      let parent = findClosest(item, 'card');\n      let id = parent.dataset.id;\n      parent.remove();\n      \n      // Show success alert\n      let message = 'ToDo removed!'\n      UI.ShowAlert(message, 'success');  \n      \n      // Remove todo from localstorage\n      Store.removeItem(id);\n      \n    } else if (item.classList.contains('card-header') || item.parentElement.classList.contains('card-header')) {\n      let card = findClosest(item, 'card');\n      let cardBody = card.querySelector('.card-body');\n      if (cardBody) {\n        cardBody.classList.contains('d-none') \n        ? cardBody.classList.remove('d-none')\n        : cardBody.classList.add('d-none');\n      }\n    }\n  }\n  \n  static ShowAlert(message, cls, action=null) {\n    let alert = document.querySelector('.alert');\n    let div = document.createElement('div');\n    let form = document.querySelector('.todo-form');\n    let formParent = form.parentElement;\n    \n    div.className = `w-50 alert alert-${cls} text-center`;\n    div.append(document.createTextNode(message));\n    formParent.insertBefore(div, form);\n    \n    if (action === 'add') {\n      form.querySelector('button').disabled = true;\n    }    \n    \n    setTimeout(() => {\n      div.remove();\n      if (action === 'add') {\n        form.querySelector('button').disabled = false;\n      }      \n    }, 1500)\n  }\n}\n\n// Storage Class\nclass Store {\n  static getItems() {\n    let storedItems;\n    if (localStorage.getItem('todos') === null) {\n      storedItems = [];\n    } else {\n      storedItems = JSON.parse(localStorage.getItem('todos'));\n    }\n    \n    return storedItems;\n  }\n  \n  static addItem(item) {\n    const items = Store.getItems();\n    items.push(item);\n    localStorage.setItem('todos', JSON.stringify(items));\n  }\n  \n  static removeItem(id) {\n    const items = Store.getItems();\n    \n    items.forEach((el, index) => {\n      if (el.id === id) {\n        items.splice(index, 1);\n      }\n    });\n    \n    localStorage.setItem('todos', JSON.stringify(items));\n  }\n}\n\n// Event: Display Todos\ndocument.addEventListener('DOMContentLoaded', UI.DisplayTodos);\n\n// Event: Save Todo\nlet form = document.querySelector('.todo-form');\nform.addEventListener('submit', e => {\n  e.preventDefault();\n  \n  // Get form values\n  const title = document.querySelector('#title').value;\n  const comment = document.querySelector('#comment').value;\n  \n  // Validate\n  if (title !== '') {\n    // Initiate todo\n    const todo = new Todo(title, comment);      \n    \n    // Show todo\n    UI.AddTodo(todo);\n    \n    // Add todo to localstorage\n    Store.addItem(todo);\n    \n    // Show success alert\n    let message = 'ToDo added!'\n    UI.ShowAlert(message, 'success', 'add');\n\n    // Clear inputs values\n    UI.ClearInputs();\n  } else {\n    // Show success alert\n    let message = 'Title is required field';\n    UI.ShowAlert(message, 'danger', 'add');\n  }  \n  \n});\n\n// Event: Handle Todo Click\nlet list = document.querySelector('.todos');\nlist.addEventListener('click', e => {\n  UI.HandleTodoClick(e.target);\n});\n\n// Get closest parent element with class\n// https://stackoverflow.com/a/22119674\nfunction findClosest(el, cls) {\n    while ((el = el.parentElement) && !el.classList.contains(cls));\n    return el;\n}"]}